"use strict";
/**
 * @preserve LoadGo v3.0.0 (https://franverona.com/loadgo)
 * 2020 - Fran Verona
 * Licensed under MIT (https://github.com/franverona/loadgo/blob/master/LICENSE)
 */
(function(){function o(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}function v(e,t){var i,r,o={};if(void 0===e)r=JSON.parse(JSON.stringify(t)),t.resize&&(r.resize=t.resize),o=r;else if(void 0===t)i=JSON.parse(JSON.stringify(e)),e.resize&&(i.resize=e.resize),o=i;else for(var s in i=JSON.parse(JSON.stringify(e)),e.resize&&(i.resize=e.resize),e=i,r=JSON.parse(JSON.stringify(t)),t.resize&&(r.resize=t.resize),o=e,t=r)o[s]=t[s];return o}function b(e){for(var t=0,i=k.length;t<i;t++)if(k[t].id===e)return k[t].properties;return null}function L(e){for(var t=0,i=k.length;t<i;t++)if(k[t].id===e)return t;return-1}function x(e){if(null!=e){if("IMG"!==e.nodeName)throw new Error("LoadGo only works on img elements.");if(1<e.length)throw new Error("LoadGo only works on one element at a time. Try with a valid #id.");return 1}}function z(e,t){var i=e.style[t];if("auto"===i){if(-1!==t.toLowerCase().indexOf("left")||-1!==t.toLowerCase().indexOf("right"))return parseFloat(e.offsetLeft);if(-1!==t.toLowerCase().indexOf("top")||-1!==t.toLowerCase().indexOf("bottom"))return parseFloat(e.offsetTop)}return-1!==i.indexOf("px")?parseFloat(i):0}var k=[],s={bgcolor:"#FFFFFF",opacity:"0.5",animated:!0,image:null,class:null,resize:null,direction:"lr",filter:null};Loadgo=window.Loadgo||{},Loadgo.init=function(f,e){var t,y,i,r,o,s,n,l,a,d,p,g,c,h,u,m,w;x(f)&&(-1===(t=L(f.id))?(k.push({id:f.id,properties:{}}),t=k.length-1):k[t].properties={},y=Loadgo.options(f,e),(i=document.createElement("div")).id="loadgo-"+(new Date).getTime().toString(),r=["loadgo-overlay"],y.class&&r.push(y.class),i.className=r.join(" "),i.style.backgroundColor=y.bgcolor,i.style.opacity=y.opacity,(o=f.getBoundingClientRect()).width?i.style.width=o.width+"px":i.style.width=f.offsetWidth,o.height?i.style.height=o.height+"px":i.style.height=f.offsetWidth,i.style.position="absolute",y.animated&&(i.style.transition="all 0.6s ease",i.style["-webkit-transition"]="all 0.6s ease",i.style["-moz-transition"]="all 0.6s ease",i.style["-ms-transition"]="all 0.6s ease",i.style["-o-transition"]="all 0.6s ease"),y.filter&&("blur"===y.filter?f.style["-webkit-filter"]=y.filter+"(10px)":"hue-rotate"===y.filter?f.style["-webkit-filter"]=y.filter+"(360deg)":"opacity"===y.filter?f.style["-webkit-filter"]=y.filter+"(0)":f.style["-webkit-filter"]=y.filter+"(1)",y.animated&&(f.style.transition="0.6s filter ease",f.style["-webkit-transition"]="0.6s -webkit-filter ease",f.style["-moz-transition"]="0.6s -moz-filter ease",f.style["-ms-transition"]="0.6s -ms-filter ease",f.style["-o-transition"]="0.6s -o-filter ease")),y.image&&(s="100% 0%","rl"===y.direction?s="0% 50%":"bt"===y.direction?s="100% 0%":"tb"===y.direction&&(s="0% 100%"),i.style["background-image"]='url("'+y.image+'")',i.style["background-repeat"]="no-repeat",i.style["background-size"]="cover",i.style["background-color"]="transparent",i.style["background-position"]=s),n={progress:0},null===y.filter&&((l=document.createElement("div")).className="loadgo-container",l.style.position="relative",f.before(l),l.appendChild(f),l.appendChild(i),a=z(f,"paddingLeft"),d=z(f,"paddingRight"),p=z(f,"paddingTop"),g=z(f,"paddingBottom"),c=z(f,"marginLeft"),h=z(f,"marginRight"),u=z(f,"marginTop"),m=z(f,"marginBottom"),"lr"===y.direction?(i.style.right=d+h+"px",i.style.top=p+u+"px"):"rl"===y.direction?(i.style.left=a+c+"px",i.style.top=p+u+"px"):"bt"===y.direction?(i.style.top=p+u+"px",i.style.left=a+c+"px"):"tb"===y.direction&&(i.style.bottom=g+m+"px",i.style.left=a+c+"px"),n.overlay=i.id,n.width=i.clientWidth,n.height=i.clientHeight),k[t].properties=v(y,n),w=function(){var e,t,i,r,o,s,n,l,a,d,p=b(f.id),g=L(f.id);null!==p&&(e=document.getElementById(p.overlay),t=f.getBoundingClientRect(),e&&(t.width?e.style.width=t.width+"px":e.style.width=f.offsetWidth,t.height?e.style.height=t.height+"px":e.style.height=f.offsetWidth,i=z(f,"paddingLeft"),r=z(f,"paddingRight"),o=z(f,"paddingTop"),s=z(f,"paddingBottom"),n=z(f,"marginLeft"),l=z(f,"marginRight"),a=z(f,"marginTop"),d=z(f,"marginBottom"),"lr"===y.direction?(e.style.right=r+l+"px",e.style.top=o+a+"px"):"rl"===y.direction?(e.style.left=i+n+"px",e.style.top=o+a+"px"):"bt"===y.direction?(e.style.top=o+a+"px",e.style.left=i+n+"px"):"tb"===y.direction&&(e.style.bottom=s+d+"px",e.style.left=i+n+"px"),k[g].properties.width=parseFloat(e.style.width),k[g].properties.height=parseFloat(e.style.height),Loadgo.setprogress(f,p.progress)))},y.resize&&(w=y.resize),window.addEventListener?window.addEventListener("resize",w,!1):window.attachEvent("onresize",w))},Loadgo.options=function(e,t){if(x(e)){var i=L(e.id);if(-1!==i){var r=k[i].properties;if("{}"!==JSON.stringify(r))return r;void 0!==t&&void 0!==t.opacity&&(t.opacity=parseFloat(t.opacity)),r="{}"===JSON.stringify(r)?v(s,t):v(r,t);return-1===o(["lr","rl","bt","tb"],r.direction.toLowerCase())&&(r.direction="lr"),r.filter&&(-1===o(["blur","grayscale","sepia","hue-rotate","invert","opacity"],r.filter.toLowerCase())&&(r.filter=null)),k[i].properties=r}}},Loadgo.setprogress=function(e,t){if(x(e)&&!(t<0||100<t)){var i=L(e.id);if(-1!==i){var r=b(e.id);if(null!==r){var o,s,n,l=document.getElementById(r.overlay),a=r.width,d=r.height;if(l){var p=r.direction;"lr"===p||"rl"===p?(o=a*(1-t/100),l.style.width=o+"px"):"bt"===p?(s=d*(1-t/100),l.style.height=s+"px"):"tb"===p&&(s=d*(1-t/100),l.style.height=s+"px",l.style.top=d-s+"px")}else{switch(r.filter){case"blur":n=(100-t)/10,e.style["-webkit-filter"]=r.filter+"("+n+"px)";break;case"hue-rotate":n=360*t/100,e.style["-webkit-filter"]=r.filter+"("+n+"deg)";break;case"opacity":n=t/100,e.style["-webkit-filter"]=r.filter+"("+n+")";break;default:n=1-t/100,e.style["-webkit-filter"]=r.filter+"("+n+")"}}}k[i].properties.progress=t}}},Loadgo.getprogress=function(e){if(x(e)){var t=b(e.id);return null!==t?t.progress:0}},Loadgo.resetprogress=function(e){Loadgo.setprogress(e,0)},Loadgo.loop=function(t,e){var i,r,o;x(t)&&(-1!==L(t.id)?null!==(i=b(t.id))?i.interval?console.warn("LoadGo requires you to stop the current loop before modifying it."):(r=!0,o=L(t.id),k[o].properties.interval=setInterval(function(){r?(k[o].properties.progress+=1,100<=k[o].properties.progress&&(r=!1)):(--k[o].properties.progress,k[o].properties.progress<=0&&(r=!0));var e=document.getElementById(k[o].properties.overlay);e&&(e.style.transition="none",e.style["-webkit-transition"]="none",e.style["-moz-transition"]="none",e.style["-ms-transition"]="none",e.style["-o-transition"]="none"),Loadgo.setprogress(t,k[o].properties.progress)},e)):console.warn("Element do not have Loadgo properties. Maybe it is uninitialized."):console.error('Trying to loop a non initialized element. You have to run "init" method first.'))},Loadgo.stop=function(e){x(e)&&(-1!==L(e.id)?(clearInterval(k[L(e.id)].properties.interval),Loadgo.setprogress(e,100)):console.error('Trying to stop loop for a non initialized element. You have to run "init" method first.'))},Loadgo.destroy=function(e){var t,i,r,o,s=L(e.id);-1!==s&&(t=Loadgo.options(e),k.splice(s),e.before(i),r=(i=e.parentNode).parentNode,(o=document.getElementById(t.overlay))&&o.parentNode&&i.removeChild(t.overlay),r&&(r.appendChild(e),r.removeChild(i)))},window.Loadgo=Loadgo}).call(void 0);